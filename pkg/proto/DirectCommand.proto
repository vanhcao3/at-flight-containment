syntax = "proto3";

package drone;

option go_package = "pkg/pb";
import "pkg/proto/SearchOptions.proto";
import "pkg/proto/PatchOptions.proto";



enum AT_DIRECT_COMMAND_STATUS {
    ADCS_UNKNOWN = 0;
    ADCS_SENT = 1;
    ADCS_ACK = 2;
}

message DirectCommand {
    string  ID          = 1;//`json:"id,omitempty" bson:"_id"`
    string  Content        = 2;//`json:"content,omitempty" bson:"content"`
    string  Src        = 3;//`json:"src,omitempty" bson:"src"`
    string  Dest        = 4;//`json:"dest,omitempty" bson:"dest"`
   AT_DIRECT_COMMAND_STATUS DirectCommandStatus = 5;//`json:"command_status,omitempty" bson:"command_status"`
    uint64 CreatedAt = 52;//`json:"created_at,omitempty" bson:"created_at"  audit:"createdAt"`
    uint64 UpdatedAt = 53;//`json:"updated_at,omitempty" bson:"updated_at"  audit:"updatedAt"`
    string CreatedBy = 54;//`json:"created_by,omitempty" bson:"created_by"`
    string UpdatedBy = 55;//`json:"updated_by,omitempty" bson:"updated_by"`
}

service DirectCommandService {
    rpc create (DirectCommand) returns (DirectCommand);
    rpc search (search_options.SearchOptions) returns (SearchDirectCommandResponse);
    rpc patch (patch_options.PatchOptions) returns (patch_options.PatchResponse);
    rpc update (DirectCommand) returns (DirectCommand);
}

message SearchDirectCommandResponse {
    repeated DirectCommand DirectCommands = 1;//
    int32 TotalCount =2;//
}
